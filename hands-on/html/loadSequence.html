<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript">
        jQuery = $;
    </script>
    <script src="../sequence/biojs-vis-sequence.js"></script>
    <script src="../sequence/jquery-browser-plugin.js"></script>
    <script src="../ftviewer/biojs-vis-proteinFeaturesViewer.js"></script>
    <link href="../ftviewer/main.css" rel="stylesheet"/>
    <script>
        var getData = function() {
            var accession = document.getElementById("accession").value;
            document.getElementById("target_ft").html = "";
            document.getElementById("target_seq").html = "";

            var app = require("biojs-vis-proteinfeaturesviewer");
            var instance = new app({
                el: document.getElementById("target_ft")
                , uniprotacc : accession
            });

            var mySequence;
            instance.getDispatcher().on("ready", function() {
                $.browser = require("jquery-browser-plugin");
                var Sequence = require("biojs-vis-sequence");
                mySequence = new Sequence({
                    sequence: instance.sequence,
                    target: "target_seq",
                    format: 'CODATA',
                    formatOptions: {
                        title: false,
                        footer: false
                    },
                    columns: {
                        size: 50,
                        spacedEach: 10
                    },
                    selectionFontColor: 'black',
                    selectionColor: 'lightgray',
                    highlightOpacity: 1,
                    priorityOnHighlight: true
                });
                mySequence.removeAllHighlights();
            });
        };
    </script>
</head>
<body>
<div>
    <input id="accession">
    <button id="submit" onclick="getData();">Get data</button>
</div>
<div id="target_ft" width="1200px"></div>
<div id="target_seq" width="1200px"></div>
</body>

</html>